(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{13:function(e,t,a){e.exports=a(27)},18:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),c=a.n(s),l=(a(18),a(12)),o=a(11),i=a(3),u={episodes:[],favorites:[]},d=r.a.createContext(u);function p(e,t){switch(t.type){case"FETCH_DATA":return Object(i.a)({},e,{episodes:t.payload});case"ADD_FAV":return Object(i.a)({},e,{favorites:[].concat(Object(o.a)(e.favorites),[t.payload])});case"REMOVE_FAV":return Object(i.a)({},e,{favorites:t.payload});default:return e}}var m=a(2);function f(e){var t=e.children,a=r.a.useContext(d).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"headerPart1"},r.a.createElement("h1",{className:"title"},"Family Guy"),r.a.createElement("p",{className:"subtitle"},"Pick your favorite Family Guy episode!!!")),r.a.createElement("div",{className:"tabs"},r.a.createElement(m.a,{to:"/",className:"linkStyle"},"Home"),r.a.createElement(m.a,{to:"/faves",className:"linkStyle"},"Favorites: ",a.favorites.length))),t)}var v=a(4),E=a.n(v),h=a(10),y=function(){var e=Object(h.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=family-guy&embed=episodes",e.next=3,fetch("https://api.tvmaze.com/singlesearch/shows?q=family-guy&embed=episodes");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,a){var n=e.favorites.includes(a),r={type:"ADD_FAV",payload:a};n&&(r={type:"REMOVE_FAV",payload:e.favorites.filter(function(e){return e.id!==a.id})});return t(r)},g=r.a.lazy(function(){return a.e(0).then(a.bind(null,29))});var A=r.a.lazy(function(){return a.e(0).then(a.bind(null,29))});var F=function(e){return e.pageComponent};c.a.render(r.a.createElement(function(e){var t=e.children,a=r.a.useReducer(p,u),n=Object(l.a)(a,2),s=n[0],c=n[1];return r.a.createElement(d.Provider,{value:{state:s,dispatch:c}},t)},null,r.a.createElement(m.b,null,r.a.createElement(F,{pageComponent:r.a.createElement(function(){var e=r.a.useContext(d),t=e.state,a=e.dispatch;r.a.useEffect(function(){0===t.episodes.length&&y(a)});var n={episodes:t.episodes,store:{state:t,dispatch:a},toggleFavAction:b,favorites:t.favorites};return r.a.createElement(f,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("section",{className:"episode-layout"},r.a.createElement(g,n))))},null),path:"/"}),r.a.createElement(F,{pageComponent:r.a.createElement(function(){var e=r.a.useContext(d),t=e.state,a=e.dispatch,n={episodes:t.favorites,store:{state:t,dispatch:a},toggleFavAction:b,favorites:t.favorites};return r.a.createElement(f,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("div",{className:"episode-layout"},r.a.createElement(A,n))))},null),path:"/faves"}))),document.getElementById("root"))}},[[13,2,3]]]);
//# sourceMappingURL=main.302a4894.chunk.js.map